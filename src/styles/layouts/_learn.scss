@function repeat($str, $n) {
    $out: "";
    @for $i from 1 through $n {
        $out: $out + $str;
    }
    @return $out;
}

.learn--guide {
    @for $i from 1 through 6 {
        h#{$i}:hover { font-family: monospace; }
        h#{$i}:hover:before {
            margin-left: -0.7em - (0.6em * $i);
            content: repeat("#", $i) + " ";
        }
    }

    strong:hover,
    em:hover,
    del:hover,
    a:hover {
        font-family: monospace;
        font-style: normal;
        text-decoration: none;
    }

    strong:hover {
        &:before,
        &:after {
            content: "**";
        }
    }

    em:hover {
        &:before,
        &:after {
            content: "_";
        }
    }

    del:hover {
        &:before,
        &:after {
            content: "~~";
        }
    }

    a:hover {
        &:before {
            content: "[";
        }

        &:after {
            content: "](" attr(href) ")";
        }
    }
}

.learn--header {
    padding: 0 0 3rem;
    cursor: default;

    p {
        font-size: 1.5rem;
    }
}

.learn--example {
    textarea,
    .learn--output {
        font-size: 1.5rem;
        min-height: 3rem;
    }

    textarea {
        padding: 0.25rem 0.5rem;
        appearance: none;
        border: 0;
        min-width: 100%;
        resize: none;
        font-family: monospace;
        word-wrap: break-word;
        overflow: hidden;
        overflow-y: hidden;

        &:focus {
            outline: none;
        }
    }
}

.learn--output {
    padding: 0.25rem 0.5rem;

    p:first-child {
        margin-top: 0;
    }

    ul,
    ol {
        padding-left: 0;

        &:first-child {
            margin-top: 0;
        }
    }
}

.learn--divider {
    border-width: 1px 0 0;
    border-style: solid;
    border-color: $gray-lighter;
    margin: 0;
    padding: 0 0 2rem;
    width: 100%;
    overflow: hidden;

    &:hover {
        border-color: transparent;
        line-height: 2.5;
        margin-top: -1rem;
        padding: 0 0 3rem;

        &:before {
            display: block;
            content: repeat("*", 150);
            overflow: hidden;
            word-wrap: break-word;
            font-family: monospace;
            width: 100%;
            height: 2rem;
        }
    }
}

.learn--footer {
    padding: 0 0.5rem;
    margin: 5rem 0;

    span {
        color: desaturate(lighten($red, 7%), 5%);
    }
}
